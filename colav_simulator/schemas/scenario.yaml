name:
  required: True
  type: string
save_scenario:
  required: True
  type: boolean
t_start:
  required: True
  type: float
  min: 0.0
t_end:
  required: True
  type: float
  min: 1.0
dt_sim:
  required: True
  type: float
  min: 0.1
type:
  required: True
  type: integer
utm_zone:
  required: True
  type: integer
map_data_files:
  required: True
  type: list
  minlength: 1
  schema:
    type: string
map_size:
  required: False
  type: list
  maxlength: 2
  minlength: 2
  schema:
    type: float
map_origin_enu:
  required: False
  type: list
  maxlength: 2
  minlength: 2
  schema:
    type: float
new_load_of_map_data:
  required: True
  type: boolean
ais_data_file:
  required: False
  type: string
ship_data_file:
  required: False
  type: string
allowed_nav_statuses:
  required: False
  type: list
  minlength: 1
  schema:
    type: integer
n_random_ships:
  required: False
  type: integer
min_dist_between_ships:
  required: False
  type: float
max_dist_between_ships:
  required: False
  type: float
ship_list:
  required: False
  type: list
  schema:
    type: dict
    schema:
      default:
        required: False
        type: string
        empty: True
        excludes: [colav, tracker, sensors, guidance, controller, model]
      mmsi:
        required: False
        type: integer
      id:
        required: False
        type: integer
      t_start:
        required: False
        type: float
      t_end:
        required: False
        type: float
      random_generated:
        required: False
        type: boolean
      pose:
        required: False
        type: list
        schema:
          type: float
      waypoints:
        required: False
        type: list
        schema:
          type: list
          schema:
            type: float
      speed_plan:
        required: False
        type: list
        schema:
          type: float

      colav:
        required: False
        type: dict
        excludes: [default]
        schema:
          layer1: # First COLAV algorithm, necessary if provided
            required: True
            type: dict
          layer2: # Second COLAV algorithm on a layer above
            required: False
            type: dict
          layer3: # Third COLAV algorithm, again on a layer above
            required: False
            type: dict
      tracker:
        required: False
        type: dict
        excludes: [default]
        schema:
          kf:
            type: dict
            schema:
              P_0:
                required: True
                type: list
                minlength: 4
                maxlength: 4
                schema:
                  type: float
                  min: 0.001
              q:
                required: True
                type: float
                min: 0.00001
                max: 1.0

      sensors:
        required: False
        type: list
        excludes: [default]
        # schema:
        #   oneof:
        #     - radar:
        #         type: dict
        #         schema:
        #           max_range:
        #             required: True
        #             type: float
        #              min: 100.0
        #           measurement_rate:
        #             required: True
        #             type: float
        #             min: 0.2
        #             max: 1
        #           R:
        #             required: True
        #             type: list
        #             minlength: 2
        #             maxlength: 2
        #             schema:
        #               type: float
        #               min: 0.0001
        #     - ais:
        #         type: dict
        #         schema:
        #           max_range:
        #             required: True
        #             type: float
        #              min: 100.0
        #           ais_class:
        #             required: True
        #             type: integer
        #             allowed: [0, 1] # class A and B
        #           R:
        #             required: True
        #             type: list
        #             minlength: 2
        #             maxlength: 2
        #             schema:
        #               type: float
        #               min: 0.0001

      guidance:
        required: False
        type: dict
        excludes: [default]
        schema:
          los:
            type: dict
            excludes: [ktp]
            schema:
              pass_angle_threshold:
                required: True
                type: float
              R_a:
                required: True
                type: float
              K_p:
                required: True
                type: float
              K_i:
                required: True
                type: float
              e_int_max:
                required: True
                type: float
          ktp:
            type: dict
            excludes: [los]
            schema:
              epsilon:
                required: True
                type: float
              dt_seg:
                required: True
                type: float

      controller:
        required: False
        type: dict
        excludes: [default]
        schema:
          pid:
            type: dict
            excludes: [flsh, pass_through, csog]
            schema:
              wn:
                required: True
                type: list
                minlength: 3
                maxlength: 3
                schema:
                  type: float
                  min: 0.0
              zeta:
                required: True
                type: list
                minlength: 3
                maxlength: 3
                schema:
                  type: float
                  min: 0.0
              eta_diff_max:
                required: True
                type: list
                minlength: 3
                maxlength: 3
                schema:
                  type: float
                  min: 0.0
          flsh:
            type: dict
            excludes: [pid, pass_through, csog]
            schema:
              K_p_u:
                required: True
                type: float
                min: 0.0
              K_p_psi:
                required: True
                type: float
                min: 0.0
              K_d_psi:
                required: True
                type: float
                min: 0.0
          pass_through_cs:
            type: string
            empty: True
            excludes: [pid, flsh]

      model:
        required: False
        type: dict
        excludes: [default]
        schema:
          csog:
            type: dict
            excludes: [telemetron]
            schema:
              draft:
                required: True
                type: float
              length:
                required: True
                type: float
              width:
                required: True
                type: float
              T_chi:
                required: True
                type: float
              T_U:
                required: True
                type: float
              r_max:
                required: True
                type: float
              U_min:
                required: True
                type: float
              U_max:
                required: True
                type: float

          telemetron:
            type: string
            empty: True
            excludes: [csog]
